"use strict";(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{console.log("Init script");let r=!1,c=$("[name=Phone"),i=$("input[type=radio][name=invitationChannel]"),a=$("input[type=radio][name=Address]"),f=$("[name=AddressStreet"),u=$("[name=AddressBuildingNumber"),h=$("[name=AddressPostCode"),p=$("[name=AddressCity");$('[form-element="error-text"]').hide(),$('[form-element="required"]').removeClass("error-state");let l=function(t){console.log("There are some errors"),t.siblings('[form-element="error-text"]').show(),t.addClass("error-state"),r=!0};i.on("change",t=>{let{value:e}=t.currentTarget;$('[form-element="error-text-radio-channel"]').hide(),c.attr("form-element",e==="SMS"?"required":null)}),a.on("change",t=>{let{value:e}=t.currentTarget;$('[form-element="error-text-radio-address"]').hide(),f.attr("form-element",e==="TAK"?"required":null),u.attr("form-element",e==="TAK"?"required":null),h.attr("form-element",e==="TAK"?"required":null),p.attr("form-element",e==="TAK"?"required":null)});let o=document.querySelector("[form-element=phone]");o.addEventListener("blur",()=>{let t=o.value.trim();t===""||/^\d{9}$/.test(t)?(o.classList.remove("error_state"),$(".error_phone").fadeOut()):(o.classList.add("error_state"),$(".error_phone").fadeIn())}),$('[form-element="submit"]').click(function(){if(console.log("Clicked"),i.is(":checked")?($('[form-element="error-text-radio-channel"]').hide(),r=!1):($('[form-element="error-text-radio-channel"]').show(),console.log("Channel: Zaznacz 1 z radio button\xF3w"),r=!0),a.is(":checked")?($('[form-element="error-text-radio-address"]').hide(),r=!1):($('[form-element="error-text-radio-address"]').show(),console.log("Address: Zaznacz 1 z radio button\xF3w"),r=!0),$('[form-element="required"]').each(function(){$(this).val().length===0?l($(this)):$(this).attr("type")==="email"&&($(this).val().indexOf("@")===-1||$(this).val().indexOf(".")===-1)&&l($(this))}),!r)console.log(r),$(this).parents("form").submit(function(t){t.preventDefault();let e=$(this),n=$("[type=submit]",e),b=n.val(),d=n.attr("data-wait"),g=e.attr("method"),w=e.attr("action"),v=e.serialize();d&&n.val(d),$.ajax(w,{data:v,method:g}).done(s=>{let m=s.result;if(console.log("Response:",s),m){window.location=m;return}e.hide().siblings(".w-form-done").show().siblings(".w-form-fail").hide()}).fail(s=>{e.siblings(".w-form-done").hide().siblings(".w-form-fail").show()}).always(()=>{n.val(b)})});else return!1}),$('[form-element="required"]').on("keypress blur",function(){$(this).removeClass("error-state"),$(this).siblings('[form-element="error-text"]').hide(),r=!1})});})();
