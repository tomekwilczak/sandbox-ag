{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// Wersja 16.05 EOD: dzia\u0142a channel redirect, email oraz SMS z walidacj\u0105 telefonu (formatowanie do poprawienia). Nie dzia\u0142a dobrze walidacja wymaganych p\u00F3l, tzn. pokazuj\u0105 si\u0119 walidacje, ale formularz wysy\u0142a si\u0119 bez wype\u0142nienia p\u00F3l,\n// wystarczy jak zaznaczy si\u0119 radio buttony (czyli one generuj\u0105 b\u0142\u0105d).\n\nwindow.Webflow ||= [];\n\nwindow.Webflow.push(() => {\n  console.log('Init script');\n  let formErrors = false;\n  const $input_phone = $('[name=Phone');\n  const $radios_channel = $('input[type=radio][name=invitationChannel]');\n  const $radios_address = $('input[type=radio][name=Address]');\n  const $input_street = $('[name=AddressStreet');\n  const $input_building = $('[name=AddressBuildingNumber');\n  const $input_zipcode = $('[name=AddressPostCode');\n  const $input_city = $('[name=AddressCity');\n\n  // Hide error texts and error state (red borders)\n  $('[form-element=\"error-text\"]').hide();\n  $('[form-element=\"required\"]').removeClass('error-state');\n\n  // Add proper classes when field is empty\n  const fieldError = function (field) {\n    field.siblings('[form-element=\"error-text\"]').show(); // Show error message\n    console.log('There are some errors');\n    field.addClass('error-state'); // Add error state to this field\n    formErrors = true;\n  };\n\n  // When one of 'invitationChannel' radios is selected add required attribute to either PESEL or Dow\u00F3d osobisty fields\n  $radios_channel.on('change', (e) => {\n    const { value } = e.currentTarget;\n    $('[form-element=\"error-text-radio-channel\"]').hide();\n    $input_phone.attr('form-element', value === 'SMS' ? 'required' : null);\n  });\n\n  // When one of 'Address' radios is selected add required attribute to either PESEL or Dow\u00F3d osobisty fields\n  $radios_address.on('change', (e) => {\n    const { value } = e.currentTarget;\n    $('[form-element=\"error-text-radio-address\"]').hide();\n    $input_street.attr('form-element', value === 'TAK' ? 'required' : null);\n    $input_building.attr('form-element', value === 'TAK' ? 'required' : null);\n    $input_zipcode.attr('form-element', value === 'TAK' ? 'required' : null);\n    $input_city.attr('form-element', value === 'TAK' ? 'required' : null);\n  });\n\n  //validate phone number on user input only when the input is provided\n  const formInputPhone = document.querySelector('[form-element=phone]');\n\n  formInputPhone.addEventListener('blur', () => {\n    const phoneNumber = formInputPhone.value.trim();\n    const phoneNumberPattern = /^\\d{9}$/;\n\n    if (phoneNumber === '') {\n      // Empty input, remove error state (red input field border)\n      formInputPhone.classList.remove('error_state');\n      $('.error_phone').fadeOut();\n    } else if (phoneNumberPattern.test(phoneNumber)) {\n      // Valid phone number, remove error state\n      formInputPhone.classList.remove('error_state');\n      //console.log('Valid phone number!');\n      $('.error_phone').fadeOut();\n    } else {\n      // Invalid phone number, add error state\n      formInputPhone.classList.add('error_state');\n      //console.log('Invalid phone number!');\n      $('.error_phone').fadeIn();\n    }\n  });\n\n  // Click on the Submit button\n  $('[form-element=\"submit\"]').click(function () {\n    console.log('Clicked');\n    // Check each required field\n    $('[form-element=\"required\"]').each(function () {\n      if ($(this).val().length === 0) {\n        // If this field is empty\n        fieldError($(this));\n      } else if (\n        $(this).attr('type') === 'email' && // Validation for email fields\n        ($(this).val().indexOf('@') === -1 || $(this).val().indexOf('.') === -1)\n      ) {\n        fieldError($(this));\n      }\n    });\n\n    // Check if at least 1 radio button is selected\n    if (!$radios_channel.is(':checked')) {\n      // e.preventDefault(); // Prevent form submission\n      $('[form-element=\"error-text-radio-channel\"]').show();\n      console.log('Channel: Zaznacz 1 z radio button\u00F3w');\n      formErrors = true;\n    } else {\n      $('[form-element=\"error-text-radio-channel\"]').hide();\n      formErrors = false;\n    }\n\n    if (!$radios_address.is(':checked')) {\n      $('[form-element=\"error-text-radio-address\"]').show();\n      console.log('Address: Zaznacz 1 z radio button\u00F3w');\n      // return false;\n      formErrors = true;\n      // return false;\n    } else {\n      $('[form-element=\"error-text-radio-address\"]').hide();\n      formErrors = false;\n    }\n    // Submit parent form if there are no errors\n\n    if (!formErrors) {\n      console.log(formErrors);\n      // debugger;\n      $(this)\n        .parents('form')\n        .submit(function (e) {\n          e.preventDefault();\n\n          const $form = $(this); // The submitted form\n          const $submit = $('[type=submit]', $form); // Submit button of form\n          const buttonText = $submit.val(); // Original button text\n          const buttonWaitingText = $submit.attr('data-wait'); // Waiting button text value\n          const formMethod = $form.attr('method'); // Form method (where it submits to)\n          const formAction = $form.attr('action'); // Form action (GET/POST)\n          const formData = $form.serialize(); // Form data\n\n          // Set waiting text\n          if (buttonWaitingText) {\n            $submit.val(buttonWaitingText);\n          }\n\n          $.ajax(formAction, {\n            data: formData,\n            method: formMethod,\n          })\n            .done((res) => {\n              // If form redirect setting set, then use this and prevent any other actions\n              const resultUrl = res.result;\n              console.log('Response:', res);\n              if (resultUrl) {\n                window.location = resultUrl;\n                return;\n              }\n\n              $form\n                .hide() // optional hiding of form\n                .siblings('.w-form-done')\n                .show() // Show success\n                .siblings('.w-form-fail')\n                .hide(); // Hide failure\n            })\n\n            .fail((res) => {\n              $form\n                .siblings('.w-form-done')\n                .hide() // Hide success\n                .siblings('.w-form-fail')\n                .show(); // show failure\n            })\n            .always(() => {\n              // Reset text\n              $submit.val(buttonText);\n            });\n        });\n    } else {\n      return false;\n    }\n  });\n\n  // Remove errors from field\n  $('[form-element=\"required\"]').on('keypress blur', function () {\n    $(this).removeClass('error-state');\n    $(this).siblings('[form-element=\"error-text\"]').hide();\n    formErrors = false;\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
